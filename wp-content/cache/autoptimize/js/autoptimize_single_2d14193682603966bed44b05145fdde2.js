jQuery(document).ready(function($){$(document).on('submit','#order_form',function(event){event.preventDefault();const form=$(this);var UserData=$(form).serialize()+'&action=order';$(form).find('button').attr('disabled','disabled');$.ajax({url:wpAjax.url,data:UserData,type:'post',datatype:'json',success:function(json){$(form).find('label.error').removeClass('error');$(form).find('span.error-text').remove();if(json.success===false){$.each(json.data,function(i,item){$(form).find('[name="'+i+'"]').parent().addClass('error').append('<span class="error-text">'+item+'</span>');$(form).find('[name="'+i+'"]').addClass('error');});}
if(json.success===true){$(form).find('input').val('').removeAttr('value');$(form).find('textarea').val('').removeAttr('value');$('.popup-order-thx').addClass('active');$('.popup-order').removeClass('active');}
$(form).find('button').removeAttr('disabled');}});});$(document).on('submit','#callback_form',function(event){event.preventDefault();const form=$(this);var UserData=$(form).serialize()+'&action=callback';$(form).find('button').attr('disabled','disabled');$.ajax({url:wpAjax.url,data:UserData,type:'post',datatype:'json',success:function(json){$(form).find('label.error').removeClass('error');$(form).find('span.error-text').remove();if(json.success===false){$.each(json.data,function(i,item){$(form).find('[name="'+i+'"]').parent().addClass('error').append('<span class="error-text">'+item+'</span>');$(form).find('[name="'+i+'"]').addClass('error');});}
if(json.success===true){$(form).find('input').val('').removeAttr('value');$(form).find('textarea').val('').removeAttr('value');$('.popup-order-thx').addClass('active');$('.callback_form').removeClass('active');}
$(form).find('button').removeAttr('disabled');}});});$(document).on('click','#send-cv',function(event){event.preventDefault();$('.popup-vacancies').addClass('active');});$(document).on('click','#contacts-button',function(event){event.preventDefault();$('.popup-callback').addClass('active');});$(document).on('click','#review-btn',function(event){event.preventDefault();$('.popup-review').addClass('active');});});jQuery(document).on('click','#send-short-form',function(event){event.preventDefault();let form=$(this).parents('#form-short');console.log();let userData={};userData.action='short_form';userData.form_base=form.data('ftitle');userData.form_title=wpAjax.title;form.find('input').each(function(index,value){userData[jQuery(value).attr('name')]=jQuery(value).val();});jQuery.ajax({type:'post',url:wpAjax.url,data:userData,success:function success(responseData){let name=form.find('input#username-short');let phone=form.find('input#userphone-short');if(responseData.success){$(form).find('label.error').removeClass('error');$(form).find('input.error').removeClass('error');$(form).find('span.error-text').remove();$(form).find('input').val('').removeAttr('value');$('.popup-thx').addClass('active');}else{$(form).find('span.error-text').remove();$(form).find('input.error').removeClass('error');jQuery(responseData.error_messages).each(function(index,value){if(value==='userphone'){phone.addClass('error');if($(phone.closest('.form-block').find('.error')).length){$(phone.closest('.form-block')).append('<span class="error-text">'+wpAjax.requiredfield+'</span>');}}
if(value==='userphone-short'){phone.addClass('error');if($(phone.closest('.form-block').find('.error')).length){$(phone.closest('.form-block')).append('<span class="error-text">'+wpAjax.userphoneshort+'</span>');}}
if(value==='wrongphoneformat'){phone.addClass('error');if($(phone.closest('.form-block').find('.error')).length){$(phone.closest('.form-block')).append('<span class="error-text">'+wpAjax.wrongphone+'</span>');}}
if(value==='username'){name.addClass('error');if($(name.closest('.form-block').find('.error')).length){$(name.closest('.form-block')).append('<span class="error-text">'+wpAjax.requiredfield+'</span>');}}
if(value==='username-short'){name.addClass('error');if($(name.closest('.form-block').find('.error')).length){$(name.closest('.form-block')).append('<span class="error-text">'+wpAjax.usernameshort+'</span>');}}
if(value==='username-wrong'){name.addClass('error');if($(name.closest('.form-block').find('.error')).length){name.siblings('span.error-text').remove();$(name.closest('.form-block')).append('<span class="error-text">'+wpAjax.usernamewrong+'</span>');}}});}}});});jQuery(document).on('click','#send-full-form',function(event){event.preventDefault();let form=$(this).parents('#form-full');console.log();let userData={};userData.action='full_form';userData.form_base=form.data('ftitle');userData.form_title=wpAjax.title;form.find('input').each(function(index,value){userData[jQuery(value).attr('name')]=jQuery(value).val();});form.find('textarea').each(function(index,value){userData[jQuery(value).attr('name')]=jQuery(value).val();});jQuery.ajax({type:'post',url:wpAjax.url,data:userData,success:function success(responseData){let name=form.find('input#username-full');let phone=form.find('input#userphone-full');let email=form.find('input#useremail-full');let comment=form.find('textarea#usercomment-full');if(responseData.success){$(form).find('label.error').removeClass('error');$(form).find('input.error').removeClass('error');$(form).find('span.error-text').remove();$(form).find('input').val('').removeAttr('value');$(form).find('textarea').val('').removeAttr('value');$('.popup-thx').addClass('active');}else{$(form).find('span.error-text').remove();$(form).find('input.error').removeClass('error');jQuery(responseData.error_messages).each(function(index,value){if(value==='userphone'){phone.addClass('error');if($(phone.closest('.form-block').find('.error')).length){$(phone.closest('.form-block')).append('<span class="error-text">'+wpAjax.requiredfield+'</span>');}}
if(value==='userphone-short'){phone.addClass('error');if($(phone.closest('.form-block').find('.error')).length){$(phone.closest('.form-block')).append('<span class="error-text">'+wpAjax.userphoneshort+'</span>');}}
if(value==='wrongphoneformat'){phone.addClass('error');if($(phone.closest('.form-block').find('.error')).length){$(phone.closest('.form-block')).append('<span class="error-text">'+wpAjax.wrongphone+'</span>');}}
if(value==='username'){name.addClass('error');if($(name.closest('.form-block').find('.error')).length){$(name.closest('.form-block')).append('<span class="error-text">'+wpAjax.requiredfield+'</span>');}}
if(value==='username-short'){name.addClass('error');if($(name.closest('.form-block').find('.error')).length){$(name.closest('.form-block')).append('<span class="error-text">'+wpAjax.usernameshort+'</span>');}}
if(value==='username-wrong'){name.addClass('error');if($(name.closest('.form-block').find('.error')).length){name.siblings('span.error-text').remove();$(name.closest('.form-block')).append('<span class="error-text">'+wpAjax.usernamewrong+'</span>');}}});}}});});